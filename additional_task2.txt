Mysql Transaction 처리

동시 사용자의 접근을 처리하기 위해 트랜잭션을 처리하였음. 
기본적으로 jsp에서는 Auto commit 기능을 제공한다. 
하지만 우리는 여러개의 질의문을 하나의 작업으로써 처리해야하기 때문에 auto commit 기능의 작동을 중지시켰다.
(setAutoCommit(false)부분)
그리고 try-catch 문을 통해 데이터베이스에 업데이트가 진행되는 도중, 
문제가 발생할 경우 rollback()할 수 있도록 코드를 구성하였다.
이를 통해 업데이트 작업 중 하나의 문장이라도 error가 발생하면 업데이트 전체가 수행되지 않도록 하였다.
(Error 발생시 catch문 안으로 들어가 con.rollback() 수행)
그리고 데이터 베이스에 업데이트가 모두 이루어지고 난 후, 별도로 commit을 수행하였다.
(con.commit(); 부분)
이는 이전과 달리 jsp가 기본적으로 제공하는 auto commit기능을 중단시켰기 때문에,
데이터 베이스에 대한 모든 업데이트 문의 수행이 끝난 이후, commit을 진행해준 것이다.
이를 통해 여러개의 질의문을 하나의 작업단위로 묶었고, 이 작업단위에 원자성을 부여하였다.

그리고 작업이 끝나면 기본 설정대로 auto commit을 활성화 해주었다.
(con.setAutoCommit(true); 부분)


*** 한 컴퓨터에서 동시 사용자가 로그인 하기 위해서는 다른 웹 페이지 ( ex. 사파리, 크롬 등)에서 메인이 실행되어야한다. ***

 
